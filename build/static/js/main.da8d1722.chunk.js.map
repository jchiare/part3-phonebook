{"version":3,"sources":["services/phonenumber.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","object","put","SuccessNotification","message","className","ErrorNotification","Filter","addFilter","onChange","Persons","people","setPersons","map","person","key","name","number","onClick","window","confirm","phoneNumberService","filter","item","catch","error","alert","deletePerson","PersonForm","addPerson","addName","addNumber","onSubmit","type","App","useState","persons","newName","setNewName","newNumber","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","returnedNumbers","personToShow","toLowerCase","includes","event","preventDefault","target","value","duplicate_name","find","changedPerson","returnedPerson","setTimeout","returnedNumber","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.da8d1722.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl,newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteNumber = id => {\n    const request = axios.delete(baseUrl + '/' + id)\n    return request.then(response => response.data)\n}\n\nconst put = object => {\n    const request = axios.put(baseUrl + '/' + object.id, {...object})\n    return request.then(response => response.data)\n}\n\nexport default { \n    getAll,\n    create,\n    deleteNumber,\n    put\n}\n","import React, { useState, useEffect } from 'react'\nimport phoneNumberService from './services/phonenumber'\nimport './App.css'\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst Filter = ({addFilter}) => {\n  return <p>Filter shown with: <input onChange={addFilter}/></p>\n}\n\nconst Persons = ({ people, setPersons }) => {\n\n  const deletePerson = person => {\n    if (window.confirm(`Delete ${person.name}`)){\n      phoneNumberService\n        .deleteNumber(person.id)\n        .then(setPersons(people.filter(item => item.id !== person.id)))\n        .catch(error => {\n          alert(error)\n        })\n    }\n  }\n\n  return people.map(person => \n      <p key={person.name}>{person.name} {person.number}\n      <button onClick={() => deletePerson(person)}>delete</button></p>\n  )\n}\n\nconst PersonForm = ({ addPerson, addName, addNumber }) => {\n  return (\n    <form onSubmit={addPerson}> \n      <div>\n        name: <input onChange={addName}/>\n      </div>\n      <div>number: <input onChange={addNumber}/></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  useEffect(() => {\n    phoneNumberService\n      .getAll()\n      .then(returnedNumbers => setPersons(returnedNumbers))\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault();\n    setNewName(event.target.value);\n  }\n\n  const addNumber = (event) => {\n    event.preventDefault();\n    setNewNumber(event.target.value);\n  }\n\n  const addFilter = (event) => {\n    event.preventDefault();\n    setFilter(event.target.value.toLowerCase());\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const duplicate_name = persons.find(person => person.name === newName);\n    if (duplicate_name){\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\n        const changedPerson = {...duplicate_name,number:newNumber};\n        phoneNumberService\n          .put(changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n            setSuccessMessage(`Added new \"${returnedPerson.number}\" number of ${returnedPerson.name}'s to the phonebook.`)\n            setTimeout(() => setSuccessMessage(null), 5000)\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => setErrorMessage(null), 5000)\n          })\n      }\n    } else {\n      phoneNumberService\n        .create({\n          name: `${newName}`,\n          number: `${newNumber}`\n        })\n        .then(returnedNumber => {          \n          setPersons(persons.concat(returnedNumber))\n          setSuccessMessage(`Added ${newName} to the phonebook.`)\n          setTimeout(() => setSuccessMessage(null), 5000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), 5000)\n        })\n    }\n  }\n\n  const personToShow = persons.filter(person => person.name.toLowerCase().includes(filter));\n\n  return (\n    <div className=\"main\">\n      <SuccessNotification message={successMessage || null}/>\n      <ErrorNotification message={errorMessage || null}/>\n      <h2>Phonebook</h2>\n      <Filter addFilter={addFilter}/>\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} addName={addName} addNumber={addNumber}/>\n      <h2>Numbers</h2>\n      <Persons people={personToShow} setPersons={setPersons}/> \n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}