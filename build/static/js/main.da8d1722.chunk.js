(window.webpackJsonpphonebook=window.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),u=n(4),i=n(2),l=n(3),s=n.n(l);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var m="/api/persons",d=function(){return s.a.get(m).then(function(e){return e.data})},p=function(e){return s.a.post(m,e).then(function(e){return e.data})},b=function(e){return s.a.delete(m+"/"+e).then(function(e){return e.data})},O=function(e){return s.a.put(m+"/"+e.id,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)).then(function(e){return e.data})};n(37);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var j=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{className:"success"},t)},v=function(e){var t=e.message;return null===t?null:a.a.createElement("div",{className:"error"},t)},w=function(e){var t=e.addFilter;return a.a.createElement("p",null,"Filter shown with: ",a.a.createElement("input",{onChange:t}))},E=function(e){var t=e.people,n=e.setPersons;return t.map(function(e){return a.a.createElement("p",{key:e.name},e.name," ",e.number,a.a.createElement("button",{onClick:function(){return function(e){window.confirm("Delete ".concat(e.name))&&b(e.id).then(n(t.filter(function(t){return t.id!==e.id}))).catch(function(e){alert(e)})}(e)}},"delete"))})},g=function(e){var t=e.addPerson,n=e.addName,r=e.addNumber;return a.a.createElement("form",{onSubmit:t},a.a.createElement("div",null,"name: ",a.a.createElement("input",{onChange:n})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{onChange:r})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},y=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(""),l=Object(i.a)(c,2),s=l[0],f=l[1],m=Object(r.useState)(""),b=Object(i.a)(m,2),y=b[0],P=b[1],D=Object(r.useState)(""),k=Object(i.a)(D,2),S=k[0],N=k[1],C=Object(r.useState)(""),T=Object(i.a)(C,2),A=T[0],F=T[1],J=Object(r.useState)(""),L=Object(i.a)(J,2),x=L[0],B=L[1];Object(r.useEffect)(function(){d().then(function(e){return o(e)})},[]);var I=n.filter(function(e){return e.name.toLowerCase().includes(S)});return a.a.createElement("div",{className:"main"},a.a.createElement(j,{message:A||null}),a.a.createElement(v,{message:x||null}),a.a.createElement("h2",null,"Phonebook"),a.a.createElement(w,{addFilter:function(e){e.preventDefault(),N(e.target.value.toLowerCase())}}),a.a.createElement("h2",null,"Add a new"),a.a.createElement(g,{addPerson:function(e){e.preventDefault();var t=n.find(function(e){return e.name===s});if(t){if(window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{number:y});O(r).then(function(e){o(n.map(function(t){return t.id!==r.id?t:e})),F('Added new "'.concat(e.number,'" number of ').concat(e.name,"'s to the phonebook.")),setTimeout(function(){return F(null)},5e3)}).catch(function(e){B(e.response.data.error),setTimeout(function(){return B(null)},5e3)})}}else p({name:"".concat(s),number:"".concat(y)}).then(function(e){o(n.concat(e)),F("Added ".concat(s," to the phonebook.")),setTimeout(function(){return F(null)},5e3)}).catch(function(e){B(e.response.data.error),setTimeout(function(){return B(null)},5e3)})},addName:function(e){e.preventDefault(),f(e.target.value)},addNumber:function(e){e.preventDefault(),P(e.target.value)}}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(E,{people:I,setPersons:o}))};c.a.render(a.a.createElement(y,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.da8d1722.chunk.js.map